(this["webpackJsonpgithub-app"]=this["webpackJsonpgithub-app"]||[]).push([[0],{195:function(e,t,n){e.exports=n(365)},197:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=(n(197),n(198),n(27)),c=n.n(i),o=n(18),l=n(168),s=n(23),u=n(169),d=n(103),p=n(170),m=n.n(p),f=n(15),h={id:"",email:"",nickname:"",name:"",avatarURL:"",description:"",createdAt:"",repos:0,followers:0,following:0,repositories:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":var n,a,r,i,c,o,l,s,u,d,p;return Object(f.a)({},e,{id:null===(n=t.payload)||void 0===n?void 0:n.id,email:null===(a=t.payload)||void 0===a?void 0:a.email,nickname:null===(r=t.payload)||void 0===r?void 0:r.nickname,name:null===(i=t.payload)||void 0===i?void 0:i.name,avatarURL:null===(c=t.payload)||void 0===c?void 0:c.avatarURL,description:null===(o=t.payload)||void 0===o?void 0:o.description,createdAt:null===(l=t.payload)||void 0===l?void 0:l.createdAt,repos:null===(s=t.payload)||void 0===s?void 0:s.repos,followers:null===(u=t.payload)||void 0===u?void 0:u.followers,following:null===(d=t.payload)||void 0===d?void 0:d.following,repositories:null===(p=t.payload)||void 0===p?void 0:p.repositories});default:return Object(f.a)({},e)}},v=n(104),b={users:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CACHE_THIS_USER":var n=e.users.find((function(e){var n;return e.etag.toLowerCase()===(null===(n=t.payload)||void 0===n?void 0:n.etag.toLowerCase())})),a=e.users.filter((function(e){var n;return!(e.nickname.toLowerCase()===(null===(n=t.payload)||void 0===n?void 0:n.query.toLowerCase()))}));return n?Object(f.a)({},e,{users:[].concat(Object(v.a)(a),[Object(f.a)({},t.payload)])}):Object(f.a)({},e,{users:[].concat(Object(v.a)(e.users),[Object(f.a)({},t.payload)])});case"THIS_USER_IS_CACHED":default:return Object(f.a)({},e)}},S={fetchUserStart:!1,fetchUserSuccess:!1,fetchUserFail:!1,showRepositories:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_START":return Object(f.a)({},e,{fetchUserStart:!0,fetchUserSuccess:!1,fetchUserFail:!1});case"FETCH_USER_SUCCESS":return Object(f.a)({},e,{fetchUserStart:!1,fetchUserSuccess:!0,fetchUserFail:!1});case"FETCH_USER_FAIL":return Object(f.a)({},e,{fetchUserStart:!1,fetchUserSuccess:!1,fetchUserFail:!0});case"TOGGLE_SHOW_REPOSITORIES":return Object(f.a)({},e,{showRepositories:!e.showRepositories});default:return Object(f.a)({},e)}},O=Object(s.combineReducers)({user:g,cache:E,aplication:y}),w={key:"root",storage:m.a,whitelist:["cache"]},j=function(){try{var e=localStorage.getItem("persist:root");if(null===e)return;var t=JSON.parse(e);return{cache:JSON.parse(t.cache)}}catch(n){return void console.log(n)}}(),x=Object(d.a)(w,O),R=Object(s.createStore)(x,j,Object(u.composeWithDevTools)()),U=Object(d.b)(R),_=n(31),C=n(41),k=n(32),T=n(184),I=n(376);function L(){var e=Object(_.a)(["\n  width: 100vw;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: hsl(180, 75%, 20%);\n\n  #title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: 246px;\n    width: 413px;\n    h1 {\n      margin: 0;\n      font-size: 36px;\n      font-weight: bold;\n    }\n  }\n\n  .search {\n    margin-right: 246px;\n  }\n"]);return L=function(){return e},e}var A=k.a.header(L()),F=function(e){var t=e.callback,n=e.query,i=Object(o.c)((function(e){return e.cache})).users.map((function(e){return{title:e.nickname,description:e.description||"No description",image:e.avatarURL,query:e.nickname}})),c=Object(a.useState)(i),l=Object(C.a)(c,2),s=l[0],u=l[1];return r.a.createElement(A,null,r.a.createElement("div",{id:"title"},r.a.createElement(T.a,{src:"/home/denis/Documentos/developer/github-app/src/assets/github.png",alt:"Github logo"}),r.a.createElement("h1",null,"Github Aplication")),r.a.createElement(I.a,{id:"search",value:n,onSearchChange:function(e,n){return function(e){t(e);var n=new RegExp(e,"i");u(i.filter((function(e){return n.test(e.title)})))}(n.value||"")},onResultSelect:function(e,n){var a=n.result;return t(a.query||"")},results:s,placeholder:"Search for cached users"}))},H=n(375),q=n(374),D=n(33),G=n(379),N=function(e){var t=new Date(e);return"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())};function P(){var e=Object(_.a)(["\n  margin-top: 60px;\n  #content-1 {\n    width: 100%;\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    #name {\n      width: 100%;\n      margin-bottom: 10px;\n    }\n    #created-at {\n      width: 100%;\n      margin: 0;\n    }\n\n    #description {\n      width: 100%;\n    }\n  }\n\n  #repos {\n    width: 100%;\n    padding: 10px;\n\n    #list {\n      display: flex;\n      #list-item {\n        font-size: 12px;\n        margin: 0px 5px;\n        padding: 0;\n      }\n    }\n  }\n\n  #button-repositories {\n    width: calc(100% - 10px);\n    padding: 20px 0px;\n    margin: 5px;\n  }\n"]);return P=function(){return e},e}var M=k.a.div(P()),J=function(e){var t=e.nickname,n=e.email,a=e.avatarURL,i=e.name,c=e.createdAt,l=e.description,s=e.repos,u=e.following,d=e.followers,p=Object(o.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null,r.a.createElement(H.a,null,r.a.createElement("a",{href:"https://github.com/".concat(t)},r.a.createElement(T.a,{src:a,wrapped:!0})),r.a.createElement(H.a.Content,{id:"content-1"},r.a.createElement(H.a.Header,{id:"name"},i),r.a.createElement(H.a.Meta,{id:"created-at"},r.a.createElement("span",null,"Entrou no Github em: ".concat(N(c)))),r.a.createElement(H.a.Description,{id:"description"},l)),r.a.createElement(H.a.Content,{id:"repos"},r.a.createElement(q.a,{id:"list"},r.a.createElement(q.a.Item,{id:"list-item"},"Reposit\xf3rios: ".concat(s)),r.a.createElement(q.a.Item,{id:"list-item"},"Seguidores: ".concat(d)),r.a.createElement(q.a.Item,{id:"list-item"},"Seguindo: ".concat(u)))),r.a.createElement(H.a.Content,{extra:!0},r.a.createElement("span",null,r.a.createElement(D.a,{name:"mail"}),n||"No email provided")),r.a.createElement(G.a,{primary:!0,id:"button-repositories",content:"Ver reposit\xf3rios",onClick:function(){return p({type:"TOGGLE_SHOW_REPOSITORIES"})}}))))},V=n(377);function W(){var e=Object(_.a)(["\n  display: ",";\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  right: 216px;\n  bottom: 20px;\n  align-items: center;\n  height: 230px;\n  width: 900px;\n  background: #fff;\n\n  #list {\n    display: flex;\n    #list-item {\n      margin-top: 20px;\n      width: 100%;\n      a {\n        display: flex;\n      }\n    }\n\n    #pagination {\n      position: absolute;\n      bottom: ;\n    }\n  }\n"]);return W=function(){return e},e}var z=k.a.div(W(),(function(e){return e.isVisible?"flex":"none"})),B=function(e){var t=e.repositories,n=Object(a.useState)(1),i=Object(C.a)(n,2),c=i[0],l=i[1],s=Object(o.c)((function(e){return e.aplication})).showRepositories;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{isVisible:s},r.a.createElement(q.a,{id:"list",link:!0},t.filter((function(e,t){return t<9*c&&t>9*(c-1)})).map((function(e){return r.a.createElement(q.a.Item,{id:"list-item",key:e.id},r.a.createElement("a",{href:e.linkTo},r.a.createElement(D.a,{name:"triangle right"}),r.a.createElement(q.a.Content,null,r.a.createElement(q.a.Header,null,e.name),r.a.createElement(q.a.Description,null,"Reposit\xf3rio criado em: ".concat(N(e.createdAt))))))}))),r.a.createElement(V.a,{id:"pagination",boundaryRange:0,defaultActivePage:1,ellipsisItem:null,firstItem:1,lastItem:Math.ceil(t.length/8),siblingRange:1,totalPages:Math.ceil(t.length/8),onPageChange:function(e,t){var n=t.activePage;return l("number"===typeof n?n:Number(n))}})))},Y=n(50),K=n.n(Y),Q=n(78),X=n(183),Z=n.n(X).a.create({baseURL:"https://api.github.com",timeout:5e3}),$=function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("users/".concat(t,"/repos"));case 2:return n=e.sent,a=n.data.map((function(e){return{name:e.name,id:e.id,language:e.language,linkTo:e.html_url,createdAt:e.created_at}})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.aplication})).fetchUserStart,r=Object(o.c)((function(e){return e.cache})).users;Object(a.useEffect)((function(){n&&function(){var n=Object(Q.a)(K.a.mark((function n(){var a,i,c,o,l,s,u,d,p,m,h,g,v,b,E,S;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.find((function(t){return t.nickname.toLowerCase()===e.toLowerCase()})),n.prev=1,n.next=4,Z.get("users/".concat(e),{headers:{"If-None-Match":null===a||void 0===a?void 0:a.etag}});case 4:if(i=n.sent,console.log(i),!i.data){n.next=16;break}return n.next=9,$(e);case 9:c=n.sent,o=i.data,l=o.id,s=o.email,u=o.login,d=o.name,p=o.avatar_url,m=o.bio,h=o.created_at,g=o.public_repos,v=o.following,b=o.followers,E={id:l,email:s,nickname:u,name:d,avatarURL:p,description:m,createdAt:h,following:v,followers:b,repos:g,repositories:c},S=i.headers.etag,t({type:"SET_USER",payload:Object(f.a)({},E)}),t({type:"CACHE_THIS_USER",payload:Object(f.a)({},E,{etag:S,query:e})}),t({type:"FETCH_USER_SUCCESS"});case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),n.t0.response&&304===n.t0.response.status?(t({type:"SET_USER",payload:Object(f.a)({},a)}),t({type:"FETCH_USER_SUCCESS"}),console.log("passando por aqui 2")):(console.log(n.t0),t({type:"FETCH_USER_FAIL"}));case 21:case"end":return n.stop()}}),n,null,[[1,18]])})));return function(){return n.apply(this,arguments)}}()()}),[n])};function te(){var e=Object(_.a)(["\n  height: calc(100vh - 80px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: grey;\n"]);return te=function(){return e},e}var ne=k.a.main(te()),ae=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),n=Object(o.c)((function(e){return e.aplication})).fetchUserSuccess,i=Object(a.useState)(""),c=Object(C.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)(void 0),d=Object(C.a)(u,2),p=d[0],m=d[1];return ee(l),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{query:l,callback:function(t){s((function(){return t})),clearTimeout(p);var n=setTimeout((function(){e({type:"FETCH_USER_START"})}),1e3);m(n)}}),r.a.createElement(ne,null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{id:"github-user",nickname:t.nickname,email:t.email,name:t.name,avatarURL:t.avatarURL,description:t.description,createdAt:t.createdAt,repos:t.repos,followers:t.followers,following:t.following}),r.a.createElement(B,{repositories:t.repositories})):r.a.createElement("div",null)))},re=function(){return r.a.createElement(o.a,{store:R},r.a.createElement(l.a,{loading:null,persistor:U},r.a.createElement(ae,null)))};c.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.0526219a.chunk.js.map